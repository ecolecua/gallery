{"ast":null,"code":"import _toConsumableArray from\"/Users/josegomez.dev/Desktop/photo-contest/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/josegomez.dev/Desktop/photo-contest/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import UploadForm from'./components/UploadForm';import'./App.css';import{useEffect,useState}from'react';import{storage}from'./firebase/config';import{ref,listAll,getDownloadURL}from'firebase/storage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dataRef=ref(storage,'images/');function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var removeDuplicates=function removeDuplicates(arr){return _toConsumableArray(new Set(arr));};useEffect(function(){listAll(dataRef).then(function(response){response.items.forEach(function(item){getDownloadURL(item).then(function(url){setData(function(prev){return[].concat(_toConsumableArray(prev),[url]);});});});});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(UploadForm,{}),removeDuplicates(data).map(function(url){return/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"\"});})]});}export default App;","map":{"version":3,"names":["UploadForm","useEffect","useState","storage","ref","listAll","getDownloadURL","dataRef","App","data","setData","removeDuplicates","arr","Set","then","response","items","forEach","item","url","prev","map"],"sources":["/Users/josegomez.dev/Desktop/photo-contest/src/App.js"],"sourcesContent":["import UploadForm from './components/UploadForm';\n\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport { storage } from './firebase/config';\nimport { ref, listAll, getDownloadURL } from 'firebase/storage';\n\nconst dataRef = ref(storage, 'images/');\n\nfunction App() {\n  const [data, setData] = useState([]);\n\n  const removeDuplicates = (arr) => {\n    return [...new Set(arr)];\n  };\n\n  useEffect(() => {\n    listAll(dataRef).then((response) => {\n      response.items.forEach((item) => {\n        getDownloadURL(item).then((url) => {\n          setData((prev) => [...prev, url]);\n        });\n      });\n    });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <UploadForm />\n\n      {removeDuplicates(data).map((url) => {\n        return <img src={url} alt=\"\" />;\n      })}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"wQAAA,MAAOA,WAAP,KAAuB,yBAAvB,CAEA,MAAO,WAAP,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,mBAAxB,CACA,OAASC,GAAT,CAAcC,OAAd,CAAuBC,cAAvB,KAA6C,kBAA7C,C,wFAEA,GAAMC,QAAO,CAAGH,GAAG,CAACD,OAAD,CAAU,SAAV,CAAnB,CAEA,QAASK,IAAT,EAAe,CACb,cAAwBN,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,GAAD,CAAS,CAChC,0BAAW,GAAIC,IAAJ,CAAQD,GAAR,CAAX,EACD,CAFD,CAIAX,SAAS,CAAC,UAAM,CACdI,OAAO,CAACE,OAAD,CAAP,CAAiBO,IAAjB,CAAsB,SAACC,QAAD,CAAc,CAClCA,QAAQ,CAACC,KAAT,CAAeC,OAAf,CAAuB,SAACC,IAAD,CAAU,CAC/BZ,cAAc,CAACY,IAAD,CAAd,CAAqBJ,IAArB,CAA0B,SAACK,GAAD,CAAS,CACjCT,OAAO,CAAC,SAACU,IAAD,qCAAcA,IAAd,GAAoBD,GAApB,IAAD,CAAP,CACD,CAFD,EAGD,CAJD,EAKD,CAND,EAOD,CARQ,CAQN,EARM,CAAT,CAUA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,UAAD,IADF,CAGGR,gBAAgB,CAACF,IAAD,CAAhB,CAAuBY,GAAvB,CAA2B,SAACF,GAAD,CAAS,CACnC,mBAAO,YAAK,GAAG,CAAEA,GAAV,CAAe,GAAG,CAAC,EAAnB,EAAP,CACD,CAFA,CAHH,GADF,CASD,CAED,cAAeX,IAAf"},"metadata":{},"sourceType":"module"}